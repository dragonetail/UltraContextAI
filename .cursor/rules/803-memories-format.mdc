---
description: 
globs: memories.md,memories-2.md,memories-3.md
alwaysApply: false
---
# Memory Format Rules
# 记忆格式规则

> 版本：4.0.0

## Context
## 上下文
*此记忆文件维护项目活动和开发决策的时间顺序记录。每个条目需要一个包含完整上下文的全面单行描述。它包含标题、日期以及关于交互、变更和所做决策的详细描述。在超过1000时创建新的@memories2.md并保持交叉引用。永不删除过去的条目。*

## 记忆条目格式

### 基本结构
```markdown
# 项目记忆

### **类别标题（日期，如适用）**
- 全面的单行描述，包含完整上下文，详细说明交互、变更和所做的决策，包括所有相关技术细节、实施方法和达成的成果，同时保持清晰和完整性。
```

### 编写规则
1. 条目结构：
   - 以清晰的类别标题开始
   - 在适用时包含括号中的日期
   - 提供全面的单行描述
   - 包含变更/决策的完整上下文
   - 记录所有交互和结果

2. 类别：
   - 使用描述性类别标题
   - 将相关条目分组在一起
   - 保持时间顺序
   - 为时间敏感的条目包含日期

3. 内容要求：
   - 记录完整的交互上下文
   - 详细说明所有变更和所做的决策
   - 包含技术实施细节
   - 指明结果和影响
   - 在需要时引用相关条目

4. 交叉引用：
   - 维护相关条目之间的链接
   - 引用先前的决策/变更
   - 保持记忆文件之间的上下文
   - 确保变更的可追踪性

### 内容指南
1. 描述格式：
   - 完整的交互上下文
   - 所做的变更/决策
   - 技术实施细节
   - 结果和影响
   - 特殊考虑因素

2. 时间顺序组织：
   - 基础条目优先
   - 按时间顺序排列的日期条目
   - 最新条目在底部
   - 超过1000行时创建新文件

3. 类别：
   - 用户信息
   - 开发决策
   - 技术实施
   - 功能实施
   - 增强类别

## 示例

### ✅ 良好条目
```markdown
### **图层管理器实施（2025-03-19）**
- 开发团队开始实施集中式图层管理器以处理所有地图图层逻辑，专注于盆地显示、乡镇选择和分区查看，具有适当的z-index、可见性和缩放控制，同时确保与现有组件的适当集成，并在整个应用程序中保持一致的状态管理。

### **个人资料管理实施（2025-03-19）**
- 开发团队通过向个人资料表添加新列（first_name、last_name、theme_preference）成功实施了个人资料管理第2阶段，创建了具有适当表单验证的复杂个人资料管理组件，并实施了支持实时更新的全面个人信息和安全功能，同时保持数据完整性和用户隐私。
```

### ❌ 不良条目
```markdown
### **图层管理器**
- 添加了新的图层管理器
[过于模糊，缺少上下文和细节 ❌]

### **个人资料管理**
- 使用新功能和列更新了个人资料管理
[缺少关于变更和实施的具体细节 ❌]
```

## 关键规则
1. 内容完整性：
   - 切勿删除过去的条目
   - 保持完整上下文
   - 保留所有历史信息
   - 确保全面描述

2. 文件管理：
   - 在超过1000行时创建新的@memories2.md
   - 维护文件间的交叉引用
   - 保持时间顺序
   - 保持一致的格式

3. 写作风格：
   - 使用清晰、全面的描述
   - 包含完整的交互上下文
   - 记录所有变更和决策
   - 保持单行格式

4. 组织结构：
   - 按类别分组相关条目
   - 为时间敏感的条目包含日期
   - 按时间顺序排列条目
   - 保持类别一致性